<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panda Crypto Shop</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html, body{width:100%;height:100%;overflow:hidden}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0f0f1e;color:#fff;min-height:100vh;position:relative}
body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 30%,rgba(102,126,234,0.3) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(118,75,162,0.3) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(52,199,89,0.2) 0%,transparent 40%);z-index:-1}
.bg-shapes{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;overflow:hidden;pointer-events:none}
.shape{position:absolute;border-radius:50%;opacity:0.1}
.shape1{width:300px;height:300px;background:linear-gradient(135deg,#667eea,#764ba2);top:10%;left:10%;animation:float 20s infinite ease-in-out}
.shape2{width:200px;height:200px;background:linear-gradient(135deg,#f093fb,#f5576c);top:60%;right:10%;animation:float 25s infinite ease-in-out;animation-delay:5s}
.shape3{width:150px;height:150px;background:linear-gradient(135deg,#4facfe,#00f2fe);bottom:20%;left:30%;animation:float 30s infinite ease-in-out;animation-delay:10s}
.app-container{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden}
.screen{position:absolute;top:0;left:0;width:100%;height:100%;padding:0;overflow-y:auto;overflow-x:hidden;z-index:1;transition:transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);opacity:0;transform:translateX(30px);pointer-events:none;background:transparent;-webkit-overflow-scrolling:touch}
.screen.active{opacity:1;transform:translateX(0);pointer-events:auto}
.screen.exiting{opacity:0;transform:translateX(-30px)}
.screen.entering{opacity:1;transform:translateX(0)}
.screen-content{max-width:600px;margin:0 auto;width:100%;padding:20px 16px;padding-bottom:100px}
.top-progress{position:fixed;top:0;left:0;width:100%;z-index:100;background:rgba(15,15,30,0.95);backdrop-filter:blur(10px);padding:15px 20px;border-bottom:1px solid rgba(255,255,255,0.1)}
.progress-bar{height:4px;background:rgba(255,255,255,0.1);border-radius:2px;margin:0 auto 10px;overflow:hidden;max-width:600px}
.progress-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);width:0%;transition:width 0.5s ease}
.step-indicator{display:flex;justify-content:center;gap:8px}
.step{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.2);transition:all 0.3s}
.step.active{background:#667eea;transform:scale(1.3)}
.panda-mascot{text-align:center;margin-bottom:20px;margin-top:80px;animation:float 3s ease-in-out infinite}
.panda-mascot svg{width:120px;height:120px;filter:drop-shadow(0 10px 30px rgba(0,0,0,0.5))}
.header{text-align:center;margin-bottom:32px}
.header h1{font-size:32px;font-weight:800;margin-bottom:8px;text-shadow:0 2px 20px rgba(255,255,255,0.3)}
.header p{color:rgba(255,255,255,0.8);font-size:16px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.card{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:20px;padding:24px 16px;cursor:pointer;border:2px solid rgba(255,255,255,0.2);text-align:center;transition:all .3s;position:relative;overflow:hidden;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;animation:fadeInScale 0.5s ease-out backwards}
.card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);transition:left .5s}
.card:hover::before{left:100%}
.card:active{transform:scale(.95)}
.card.selected{border-color:#667eea;background:rgba(102,126,234,0.3);box-shadow:0 0 30px rgba(102,126,234,0.5)}
.logo{width:56px;height:56px;margin:0 auto 12px;background:rgba(255,255,255,0.9);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:32px}
.name{font-size:16px;font-weight:700;color:#fff}
.back-btn{background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.3);border-radius:12px;padding:12px 20px;font-size:15px;font-weight:600;color:#fff;cursor:pointer;margin-bottom:20px;border:none;transition:all .3s;display:inline-flex;align-items:center;gap:8px;margin-top:10px}
.back-btn:hover{background:rgba(255,255,255,0.2)}
.back-btn:active{transform:scale(.95)}
.service-card{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:20px;padding:20px;cursor:pointer;border:2px solid rgba(255,255,255,0.2);transition:all .3s;margin-bottom:12px;animation:fadeInScale 0.5s ease-out backwards}
.service-card.selected{border-color:#667eea;background:rgba(102,126,234,0.3);box-shadow:0 0 30px rgba(102,126,234,0.5)}
.service-top{display:flex;gap:16px;margin-bottom:12px}
.service-icon{font-size:40px}
.service-title{font-size:18px;font-weight:700;margin-bottom:6px}
.service-desc{font-size:14px;opacity:0.8}
.service-bottom{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,0.2)}
.service-price{font-size:24px;font-weight:800;background:linear-gradient(135deg,#4facfe,#00f2fe);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.service-badge{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:6px 12px;border-radius:10px;font-size:12px;font-weight:700}
.section-title{font-size:20px;font-weight:800;margin:24px 0 16px;text-shadow:0 2px 10px rgba(255,255,255,0.3)}
.timer{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:16px;padding:16px;margin:20px 0;text-align:center;border:2px solid rgba(255,255,255,0.2)}
.timer-label{font-size:14px;margin-bottom:8px;opacity:0.8}
.timer-display{font-size:48px;font-weight:800;color:#4facfe;font-family:monospace;text-shadow:0 0 20px rgba(79,172,254,0.5)}
.timer-display.warning{color:#ff3b30;animation:pulse 1s infinite}
.qr-box{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:20px;padding:24px;margin:20px 0;border:2px solid rgba(255,255,255,0.2)}
.qr-code{width:280px;height:280px;margin:20px auto;padding:20px;background:#fff;border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,0.3)}
.wallet{background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);padding:16px;border-radius:12px;margin:16px 0;word-break:break-all;font-family:monospace;font-size:13px;border:1px solid rgba(255,255,255,0.3)}
.btn{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:14px 28px;border-radius:12px;font-size:16px;font-weight:700;cursor:pointer;margin-top:12px;box-shadow:0 4px 20px rgba(102,126,234,0.4);transition:all .3s;width:100%;display:flex;align-items:center;justify-content:center;gap:10px}
.btn:active{transform:scale(.95)}
.btn:disabled{opacity:0.6;cursor:not-allowed}
.btn-secondary{background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3)}
.status{text-align:center;padding:20px;margin-top:20px;background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:16px;border:2px solid rgba(255,255,255,0.2)}
.icon{font-size:64px;margin-bottom:12px}
.icon.checking{animation:spin 2s linear infinite}
.summary{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:20px;padding:24px;margin-top:24px;border:2px solid rgba(255,255,255,0.2)}
.summary-row{display:flex;justify-content:space-between;margin-bottom:10px;font-size:15px}
.summary-row:last-child{margin-top:16px;padding-top:16px;border-top:2px solid rgba(255,255,255,0.3);font-size:22px;font-weight:800;color:#4facfe}
.success-box{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:20px;padding:24px;margin-top:24px;border:2px solid rgba(255,255,255,0.2)}
.network-card{background:rgba(255,255,255,0.1);backdrop-filter:blur(20px);border-radius:16px;padding:20px;cursor:pointer;border:2px solid rgba(255,255,255,0.2);transition:all .3s;margin-bottom:12px;animation:fadeInUp 0.5s ease-out backwards}
.network-card:hover{border-color:#667eea}
.network-card.selected{border-color:#667eea;background:rgba(102,126,234,0.3);box-shadow:0 0 30px rgba(102,126,234,0.5)}
.network-name{font-size:18px;font-weight:700;margin-bottom:4px}
.network-desc{font-size:14px;opacity:0.8;margin-bottom:8px}
.network-fee{font-size:12px;color:#4facfe;font-weight:600}
.continue-btn{margin-top:40px;margin-bottom:40px}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideInUp{from{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(1.05)}}
@keyframes scaleUp{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}
@keyframes fadeInScale{0%{opacity:0;transform:scale(0.9)}100%{opacity:1;transform:scale(1)}}
@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>
<div class="bg-shapes">
<div class="shape shape1"></div>
<div class="shape shape2"></div>
<div class="shape shape3"></div>
</div>

<!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å–≤–µ—Ä—Ö—É -->
<div class="top-progress">
<div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
<div class="step-indicator" id="stepIndicator">
<div class="step active"></div>
<div class="step"></div>
<div class="step"></div>
<div class="step"></div>
<div class="step"></div>
</div>
</div>

<div class="app-container">
<!-- –≠–∫—Ä–∞–Ω 1: –í—ã–±–æ—Ä –±–∏—Ä–∂–∏ -->
<div id="s1" class="screen active">
<div class="screen-content">
<div class="panda-mascot" style="animation:scaleUp 0.8s ease-out">
<svg viewBox="0 0 200 200">
<ellipse cx="100" cy="120" rx="50" ry="60" fill="#fff"/>
<circle cx="100" cy="70" r="45" fill="#fff"/>
<ellipse cx="70" cy="40" rx="20" ry="25" fill="#000"/>
<ellipse cx="130" cy="40" rx="20" ry="25" fill="#000"/>
<ellipse cx="85" cy="65" rx="18" ry="22" fill="#000"/>
<circle cx="88" cy="68" r="6" fill="#fff"/>
<ellipse cx="115" cy="65" rx="18" ry="22" fill="#000"/>
<circle cx="118" cy="68" r="6" fill="#fff"/>
<ellipse cx="100" cy="85" rx="8" ry="6" fill="#000"/>
<circle cx="140" cy="110" r="18" fill="#FFD700"/>
<text x="140" y="118" font-size="20" text-anchor="middle" fill="#000" font-weight="bold">‚Çø</text>
</svg>
</div>
<div class="header" style="animation:fadeIn 1s ease-out">
<h1>üêº Panda Shop</h1>
<p>–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂—É</p>
</div>
<div class="grid" style="animation:slideInUp 1.2s ease-out">
<div class="card" onclick="selectExchange('binance','Binance')"><div class="logo">üü°</div><div class="name">Binance</div></div>
<div class="card" onclick="selectExchange('bybit','Bybit')"><div class="logo">üü†</div><div class="name">Bybit</div></div>
<div class="card" onclick="selectExchange('okx','OKX')"><div class="logo">‚ö´</div><div class="name">OKX</div></div>
<div class="card" onclick="selectExchange('kraken','Kraken')"><div class="logo">üü£</div><div class="name">Kraken</div></div>
<div class="card" onclick="selectExchange('gateio','Gate.io')"><div class="logo">üü¢</div><div class="name">Gate.io</div></div>
<div class="card" onclick="selectExchange('mexc','MEXC')"><div class="logo">üîµ</div><div class="name">MEXC</div></div>
<div class="card" onclick="selectExchange('bingx','BingX')"><div class="logo">üî∑</div><div class="name">BingX</div></div>
<div class="card" onclick="selectExchange('bitget','Bitget')"><div class="logo">üí†</div><div class="name">Bitget</div></div>
<div class="card" onclick="selectExchange('kucoin','KuCoin')"><div class="logo">üü©</div><div class="name">KuCoin</div></div>
</div>
</div>
</div>

<!-- –≠–∫—Ä–∞–Ω 2: –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏ -->
<div id="s2" class="screen">
<div class="screen-content">
<button class="back-btn" onclick="go(1)">
<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
<path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
–ù–∞–∑–∞–¥ –∫ –±–∏—Ä–∂–∞–º
</button>
<div class="header">
<h1 id="exName">Binance</h1>
<p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</p>
</div>
<div class="service-card" onclick="selectService('kyc','KYC –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è','50')">
<div class="service-top"><span class="service-icon">‚úÖ</span><div><div class="service-title">KYC –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</div><div class="service-desc">–ü–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞</div></div></div>
<div class="service-bottom"><div class="service-price">$50</div><div class="service-badge">–ü–æ–ø—É–ª—è—Ä–Ω–æ</div></div>
</div>
<div class="service-card" onclick="selectService('api','–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API','35')">
<div class="service-top"><span class="service-icon">üîë</span><div><div class="service-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API</div><div class="service-desc">–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∫–ª—é—á–µ–π</div></div></div>
<div class="service-bottom"><div class="service-price">$35</div><div class="service-badge">–ë—ã—Å—Ç—Ä–æ</div></div>
</div>
<div class="service-card" onclick="selectService('account','–ì–æ—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç','120')">
<div class="service-top"><span class="service-icon">üë§</span><div><div class="service-title">–ì–æ—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç</div><div class="service-desc">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π</div></div></div>
<div class="service-bottom"><div class="service-price">$120</div><div class="service-badge">Premium</div></div>
</div>
</div>
</div>

<!-- –≠–∫—Ä–∞–Ω 3: –í—ã–±–æ—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã -->
<div id="s3" class="screen">
<div class="screen-content">
<button class="back-btn" onclick="go(2)">
<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
<path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
–ù–∞–∑–∞–¥ –∫ —É—Å–ª—É–≥–∞–º
</button>
<div class="header">
<h1>üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h1>
<p>–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É</p>
</div>
<div class="section-title">üíµ –°—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã</div>
<div class="grid">
<div class="card" onclick="selectCrypto('usdt','USDT')"><div class="logo">üíµ</div><div class="name">USDT</div></div>
<div class="card" onclick="selectCrypto('usdc','USDC')"><div class="logo">üîµ</div><div class="name">USDC</div></div>
<div class="card" onclick="selectCrypto('dai','DAI')"><div class="logo">üü°</div><div class="name">DAI</div></div>
<div class="card" onclick="selectCrypto('busd','BUSD')"><div class="logo">üü®</div><div class="name">BUSD</div></div>
</div>
<div class="section-title">üíé –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</div>
<div class="grid">
<div class="card" onclick="selectCrypto('btc','Bitcoin')"><div class="logo">‚Çø</div><div class="name">Bitcoin</div></div>
<div class="card" onclick="selectCrypto('eth','Ethereum')"><div class="logo">Œû</div><div class="name">Ethereum</div></div>
<div class="card" onclick="selectCrypto('ton','TON')"><div class="logo">üíé</div><div class="name">TON</div></div>
<div class="card" onclick="selectCrypto('ltc','Litecoin')"><div class="logo">≈Å</div><div class="name">Litecoin</div></div>
<div class="card" onclick="selectCrypto('trx','TRON')"><div class="logo">üî∫</div><div class="name">TRON</div></div>
<div class="card" onclick="selectCrypto('bnb','BNB')"><div class="logo">üü°</div><div class="name">BNB</div></div>
<div class="card" onclick="selectCrypto('xrp','XRP')"><div class="logo">‚úï</div><div class="name">XRP</div></div>
<div class="card" onclick="selectCrypto('doge','Dogecoin')"><div class="logo">üêï</div><div class="name">Dogecoin</div></div>
</div>
</div>
</div>

<!-- –≠–∫—Ä–∞–Ω 4: –í—ã–±–æ—Ä —Å–µ—Ç–∏ -->
<div id="s4" class="screen">
<div class="screen-content">
<button class="back-btn" onclick="go(3)">
<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
<path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
–ù–∞–∑–∞–¥ –∫ –≤–∞–ª—é—Ç–∞–º
</button>
<div class="header">
<h1>‚ö° –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å</h1>
<p id="selectedCryptoName">USDT</p>
</div>
<div id="networkList"></div>
<div class="continue-btn">
<button class="btn" id="continueBtn" onclick="proceedToPayment()" disabled>
üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ
</button>
</div>
</div>
</div>

<!-- –≠–∫—Ä–∞–Ω 5: QR-–∫–æ–¥ –∏ –æ–ø–ª–∞—Ç–∞ -->
<div id="s5" class="screen">
<div class="screen-content">
<button class="back-btn" onclick="go(4)">
<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
<path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
–ù–∞–∑–∞–¥ –∫ —Å–µ—Ç—è–º
</button>
<div class="timer">
<div class="timer-label">‚è∞ –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ–ø–ª–∞—Ç—É</div>
<div class="timer-display" id="timer">10:00</div>
</div>
<div class="header">
<h1>üì± –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥</h1>
<p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ—á–Ω—É—é —Å—É–º–º—É –Ω–∞ –∞–¥—Ä–µ—Å</p>
</div>
<div class="qr-box">
<div class="qr-code" id="qr"></div>
<div class="wallet" id="addr">–ó–∞–≥—Ä—É–∑–∫–∞ –∞–¥—Ä–µ—Å–∞...</div>
<button class="btn btn-secondary" onclick="copy()">
üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å
</button>
<div class="status">
<div class="icon checking" id="ico">üîÑ</div>
<div style="font-size:16px;font-weight:600;margin-bottom:8px" id="txt">–û–∂–∏–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞...</div>
<div style="font-size:13px;opacity:0.8">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥</div>
<div style="margin-top:16px;font-size:28px;font-weight:800;color:#4facfe" id="amt">$0</div>
</div>
</div>
</div>
</div>

<!-- –≠–∫—Ä–∞–Ω 6: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã -->
<div id="s6" class="screen">
<div class="screen-content">
<div style="text-align:center;padding:40px 20px;padding-top:60px">
<div class="panda-mascot" style="margin-top:0">
<svg viewBox="0 0 120 120">
<circle cx="60" cy="60" r="50" fill="#fff"/>
<ellipse cx="45" cy="45" rx="12" ry="15" fill="#000"/>
<ellipse cx="75" cy="45" rx="12" ry="15" fill="#000"/>
<path d="M 40 70 Q 60 85 80 70" stroke="#000" stroke-width="3" fill="none"/>
<circle cx="90" cy="50" r="15" fill="#34c759"/>
<text x="90" y="58" font-size="18" text-anchor="middle" fill="#fff" font-weight="bold">‚úì</text>
</svg>
</div>
<div style="font-size:100px;margin:20px 0;animation:scaleUp 0.5s ease-out">‚úÖ</div>
<div style="font-size:32px;font-weight:800;margin-bottom:12px">–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!</div>
<div style="font-size:16px;opacity:0.9;margin-bottom:24px">–í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç –∏ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —á–∞—Å–æ–≤</div>
<div class="success-box">
<div style="font-size:18px;font-weight:700;margin-bottom:16px;color:#4facfe">üìã –î–µ—Ç–∞–ª–∏ –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞</div>
<div class="summary-row"><span>–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</span><span id="oid" style="font-family:monospace"></span></div>
<div class="summary-row"><span>–ë–∏—Ä–∂–∞:</span><span id="oex"></span></div>
<div class="summary-row"><span>–£—Å–ª—É–≥–∞:</span><span id="osrv"></span></div>
<div class="summary-row"><span>–û–ø–ª–∞—á–µ–Ω–æ:</span><span id="ocrypto"></span></div>
<div class="summary-row"><span>–°—É–º–º–∞:</span><span id="oprice" style="color:#34c759"></span></div>
<div style="margin-top:24px;padding-top:24px;border-top:2px solid rgba(255,255,255,0.3);text-align:center">
<div style="font-size:14px;opacity:0.8">–ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</div>
<div style="font-size:14px;opacity:0.8;margin-top:8px">–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É! üêº</div>
</div>
</div>
</div>
</div>
</div>
</div>

<script>
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
var tg = window.Telegram.WebApp;
tg.expand();
tg.BackButton.show();

var d = {
    ex: null,
    exName: null,
    srv: null,
    srvName: null,
    price: null,
    crypto: null,
    cryptoName: null,
    net: null,
    netName: null,
    addr: null,
    oid: null
};
var timer = 600;
var timerInt;
var checkInt;
var checkCount = 0;
var currentScreen = 1;

// –î–∞–Ω–Ω—ã–µ —Å–µ—Ç–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
var nets = {
    usdt: [
        {id: 'trc20', n: 'TRC20 (TRON)', d: '–ë—ã—Å—Ç—Ä–∞—è —Å–µ—Ç—å', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$1'},
        {id: 'erc20', n: 'ERC20 (Ethereum)', d: '–ù–∞–¥–µ–∂–Ω–∞—è —Å–µ—Ç—å', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$15'},
        {id: 'bep20', n: 'BEP20 (BSC)', d: '–≠–∫–æ–Ω–æ–º–∏—á–Ω–∞—è —Å–µ—Ç—å', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.5'}
    ],
    usdc: [
        {id: 'erc20', n: 'ERC20 (Ethereum)', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$15'},
        {id: 'polygon', n: 'Polygon', d: '–ë—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.1'}
    ],
    dai: [
        {id: 'erc20', n: 'ERC20 (Ethereum)', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$15'}
    ],
    busd: [
        {id: 'bep20', n: 'BEP20 (BSC)', d: '–°–µ—Ç—å Binance', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.5'}
    ],
    btc: [
        {id: 'bitcoin', n: 'Bitcoin Network', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å BTC', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$2-5'}
    ],
    eth: [
        {id: 'ethereum', n: 'Ethereum Network', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å ETH', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$10-20'}
    ],
    ton: [
        {id: 'ton', n: 'TON Network', d: 'The Open Network', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.01'}
    ],
    ltc: [
        {id: 'litecoin', n: 'Litecoin Network', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å LTC', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.1'}
    ],
    trx: [
        {id: 'tron', n: 'TRON Network', d: '–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å TRX', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$1'}
    ],
    bnb: [
        {id: 'bep20', n: 'BEP20 (BSC)', d: '–°–µ—Ç—å Binance', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.5'}
    ],
    xrp: [
        {id: 'ripple', n: 'XRP Ledger', d: '–°–µ—Ç—å Ripple', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.001'}
    ],
    doge: [
        {id: 'dogecoin', n: 'Dogecoin Network', d: '–°–µ—Ç—å Dogecoin', f: '–ö–æ–º–∏—Å—Å–∏—è: ~$0.1'}
    ]
};

// –î–∞–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–æ–≤
var wallets = {
    'usdt-trc20': 'TXm6gEHhZXjFhzPHpHKVGYHqXeDvXxXxXx',
    'usdt-erc20': '0x742d35Cc6634C0532925a3b844Bc9e7595f0f0f0',
    'usdt-bep20': '0x742d35Cc6634C0532925a3b844Bc9e7595f0f0f0',
    'usdc-erc20': '0x742d35Cc6634C0532925a3b844Bc9e7595f0f0f0',
    'usdc-polygon': '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',
    'dai-erc20': '0x6B175474E89094C44Da98b954EedeAC495271d0F',
    'busd-bep20': '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',
    'btc-bitcoin': 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
    'eth-ethereum': '0x742d35Cc6634C0532925a3b844Bc9e7595f0f0f0',
    'ton-ton': 'EQDtFpEwcFAEcRe5mLVh2N6C0x-_hJEM7W61_JLnSF74p4q2',
    'ltc-litecoin': 'ltc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
    'trx-tron': 'TXm6gEHhZXjFhzPHpHKVGYHqXeDvXxXxXx',
    'bnb-bep20': '0x742d35Cc6634C0532925a3b844Bc9e7595f0f0f0',
    'xrp-ripple': 'rXRippleAddressExample123456789',
    'doge-dogecoin': 'DDogeAddressExample123456789'
};

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
function updateProgress() {
    var progressFill = document.getElementById('progressFill');
    var stepIndicator = document.getElementById('stepIndicator');
    var steps = stepIndicator.querySelectorAll('.step');
    
    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å–æ –≤—Å–µ—Ö —à–∞–≥–æ–≤
    steps.forEach(function(step) {
        step.classList.remove('active');
    });
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –∞–∫—Ç–∏–≤–Ω—ã–π —à–∞–≥
    switch(currentScreen) {
        case 1:
            progressFill.style.width = '20%';
            steps[0].classList.add('active');
            break;
        case 2:
            progressFill.style.width = '40%';
            steps[1].classList.add('active');
            break;
        case 3:
            progressFill.style.width = '60%';
            steps[2].classList.add('active');
            break;
        case 4:
            progressFill.style.width = '80%';
            steps[3].classList.add('active');
            break;
        case 5:
        case 6:
            progressFill.style.width = '100%';
            steps[4].classList.add('active');
            break;
    }
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –±–∏—Ä–∂–∏
function selectExchange(exId, exName) {
    console.log('Exchange selected:', exId, exName);
    d.ex = exId;
    d.exName = exName;
    document.getElementById('exName').textContent = exName;
    setTimeout(() => animateTransition(2), 10);
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏
function selectService(srvId, srvName, price) {
    console.log('Service selected:', srvId, srvName, price);
    d.srv = srvId;
    d.srvName = srvName;
    d.price = price;
    setTimeout(() => animateTransition(3), 10);
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
function selectCrypto(cryptoId, cryptoName) {
    console.log('Crypto selected:', cryptoId, cryptoName);
    d.crypto = cryptoId;
    d.cryptoName = cryptoName;
    setTimeout(() => showNetworkSelection(), 10);
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –≤—ã–±–æ—Ä–∞ —Å–µ—Ç–∏
function showNetworkSelection() {
    // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
    document.getElementById('selectedCryptoName').textContent = d.cryptoName;
    
    // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å–µ—Ç–µ–π
    var networkList = document.getElementById('networkList');
    networkList.innerHTML = '';
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–µ—Ç–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
    if (!nets[d.crypto] || nets[d.crypto].length === 0) {
        networkList.innerHTML = '<div style="text-align:center;padding:40px;color:rgba(255,255,255,0.5)">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ç–µ–π –¥–ª—è —ç—Ç–æ–π –≤–∞–ª—é—Ç—ã</div>';
        return;
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ç–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    nets[d.crypto].forEach(function(network, index) {
        var card = document.createElement('div');
        card.className = 'network-card';
        card.style.animationDelay = (index * 0.1) + 's';
        card.innerHTML = `
            <div class="network-name">${network.n}</div>
            <div class="network-desc">${network.d}</div>
            <div class="network-fee">${network.f}</div>
        `;
        
        card.onclick = function() {
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
            document.querySelectorAll('.network-card').forEach(function(c) {
                c.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É
            this.classList.add('selected');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ—Ç—å
            d.net = network.id;
            d.netName = network.n;
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
            document.getElementById('continueBtn').disabled = false;
        };
        
        networkList.appendChild(card);
    });
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
    document.getElementById('continueBtn').disabled = true;
    
    // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–µ—Ç–∏
    setTimeout(() => animateTransition(4), 10);
}

// –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –æ–ø–ª–∞—Ç–µ
function proceedToPayment() {
    if (!d.net) {
        tg.showAlert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å');
        return;
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–≤–æ–¥–∫—É –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π
    showPaymentSummary();
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–≤–æ–¥–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR
function showPaymentSummary() {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR-–∫–æ–¥ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–ø–ª–∞—Ç–µ
    generateQRCode();
    animateTransition(5);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
    startPaymentTimer();
}

// –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
function animateTransition(targetScreen) {
    var currentScreenElement = document.getElementById('s' + currentScreen);
    var targetScreenElement = document.getElementById('s' + targetScreen);
    
    if (!currentScreenElement || !targetScreenElement) {
        console.error('Screen not found');
        return;
    }
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª–∏–º —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω –Ω–∞–≤–µ—Ä—Ö –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
    currentScreenElement.scrollTop = 0;
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∞ —Ç–µ–∫—É—â–µ–≥–æ —ç–∫—Ä–∞–Ω–∞
    currentScreenElement.classList.remove('active', 'entering');
    currentScreenElement.classList.add('exiting');
    
    // –ü–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—ã—Ö–æ–¥–∞ —Å–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ü–µ–ª–µ–≤–æ–π
    setTimeout(function() {
        currentScreenElement.classList.remove('exiting');
        targetScreenElement.classList.remove('exiting');
        targetScreenElement.classList.add('entering');
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
        currentScreen = targetScreen;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        updateProgress();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –≤ Telegram
        updateTelegramBackButton();
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª–∏–º –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω –Ω–∞–≤–µ—Ä—Ö
        setTimeout(() => {
            targetScreenElement.scrollTop = 0;
        }, 50);
        
    }, 400);
    
    // –ß–µ—Ä–µ–∑ 50ms –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ü–µ–ª–µ–≤–æ–π —ç–∫—Ä–∞–Ω –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
    setTimeout(function() {
        targetScreenElement.classList.add('active');
    }, 450);
}

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ (–±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏)
function go(s) {
    var allScreens = document.getElementsByClassName('screen');
    for (var i = 0; i < allScreens.length; i++) {
        allScreens[i].classList.remove('active', 'entering', 'exiting');
    }
    
    var target = document.getElementById('s' + s);
    if (target) {
        target.classList.add('active');
        currentScreen = s;
        updateProgress();
        updateTelegramBackButton();
        
        // –°–∫—Ä–æ–ª–ª–∏–º –Ω–∞–≤–µ—Ä—Ö
        setTimeout(() => {
            target.scrollTop = 0;
        }, 10);
    }
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ Telegram
function updateTelegramBackButton() {
    if (currentScreen === 1) {
        tg.BackButton.hide();
    } else {
        tg.BackButton.show();
    }
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞
function generateQRCode() {
    d.oid = 'ORD-' + Date.now();
    var walletKey = d.crypto + '-' + d.net;
    
    if (!wallets[walletKey]) {
        tg.showAlert('‚ùå –û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞');
        return;
    }
    
    d.addr = wallets[walletKey];
    
    // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä QR-–∫–æ–¥–∞
    var qrContainer = document.getElementById('qr');
    qrContainer.innerHTML = '';
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π QR-–∫–æ–¥
    new QRCode(qrContainer, {
        text: d.addr,
        width: 240,
        height: 240,
        colorDark: '#000',
        colorLight: '#fff',
        correctLevel: QRCode.CorrectLevel.H
    });
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥—Ä–µ—Å –∏ —Å—É–º–º—É
    document.getElementById('addr').textContent = d.addr;
    document.getElementById('amt').textContent = '$' + d.price;
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø–ª–∞—Ç–µ–∂–∞
    startPaymentCheck();
}

// –¢–∞–π–º–µ—Ä –æ–ø–ª–∞—Ç—ã (10 –º–∏–Ω—É—Ç)
function startPaymentTimer() {
    timer = 600; // 10 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    clearInterval(timerInt);
    
    timerInt = setInterval(function() {
        timer--;
        var minutes = Math.floor(timer / 60);
        var seconds = timer % 60;
        var display = minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
        document.getElementById('timer').textContent = display;
        
        // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏ –º–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏
        var timerElement = document.getElementById('timer');
        if (timer < 120) { // 2 –º–∏–Ω—É—Ç—ã
            timerElement.classList.add('warning');
        } else {
            timerElement.classList.remove('warning');
        }
        
        // –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ
        if (timer <= 0) {
            clearInterval(timerInt);
            clearInterval(checkInt);
            tg.showAlert('‚è∞ –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
            go(1); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω
            resetSelection();
        }
    }, 1000);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
function startPaymentCheck() {
    checkCount = 0;
    clearInterval(checkInt);
    
    checkInt = setInterval(function() {
        checkCount++;
        var statusText = document.getElementById('txt');
        var iconElement = document.getElementById('ico');
        
        // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
        statusText.textContent = '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç–µ–∂–∞ #' + checkCount + '...';
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏
        iconElement.textContent = 'üîÑ';
        iconElement.classList.add('checking');
        
        // –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞ —á–µ—Ä–µ–∑ 3 –ø—Ä–æ–≤–µ—Ä–∫–∏ (30 —Å–µ–∫—É–Ω–¥)
        if (checkCount >= 3) {
            paymentConfirmed();
        }
    }, 10000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
}

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
function paymentConfirmed() {
    clearInterval(checkInt);
    clearInterval(timerInt);
    
    var iconElement = document.getElementById('ico');
    var statusText = document.getElementById('txt');
    
    // –ú–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –∏ —Ç–µ–∫—Å—Ç
    iconElement.classList.remove('checking');
    iconElement.textContent = '‚úÖ';
    statusText.textContent = '–ü–ª–∞—Ç–µ–∂ –ø–æ–ª—É—á–µ–Ω!';
    
    // –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    setTimeout(function() {
        animateTransition(6);
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ
        document.getElementById('oid').textContent = d.oid;
        document.getElementById('oex').textContent = d.exName;
        document.getElementById('osrv').textContent = d.srvName;
        document.getElementById('ocrypto').textContent = d.cryptoName + ' (' + d.netName + ')';
        document.getElementById('oprice').textContent = '$' + d.price;
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ Telegram –±–æ—Ç
        tg.sendData(JSON.stringify(d));
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
        setTimeout(function() {
            tg.close();
        }, 8000);
    }, 2000);
}

// –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞
function resetSelection() {
    d = {
        ex: null,
        exName: null,
        srv: null,
        srvName: null,
        price: null,
        crypto: null,
        cryptoName: null,
        net: null,
        netName: null,
        addr: null,
        oid: null
    };
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö
    document.querySelectorAll('.card.selected, .service-card.selected, .network-card.selected').forEach(function(el) {
        el.classList.remove('selected');
    });
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
    document.getElementById('continueBtn').disabled = true;
}

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
function copy() {
    if (!d.addr) {
        tg.showAlert('‚ùå –ê–¥—Ä–µ—Å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
        return;
    }
    
    navigator.clipboard.writeText(d.addr).then(function() {
        tg.showAlert('‚úÖ –ê–¥—Ä–µ—Å —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
    }).catch(function(err) {
        console.error('Copy failed:', err);
        tg.showAlert('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å');
    });
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ Telegram
tg.BackButton.onClick(function() {
    if (currentScreen === 2) {
        go(1);
    } else if (currentScreen === 3) {
        go(2);
    } else if (currentScreen === 4) {
        go(3);
    } else if (currentScreen === 5) {
        clearInterval(timerInt);
        clearInterval(checkInt);
        timer = 600;
        checkCount = 0;
        go(4);
    } else if (currentScreen === 6) {
        tg.close();
    } else {
        go(1);
    }
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    updateTelegramBackButton();
    updateProgress();
    
    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª –Ω–∞ body
    document.body.style.overflow = 'hidden';
});
</script>
</body>
</html>
