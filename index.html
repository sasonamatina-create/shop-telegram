<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω —É—Å–ª—É–≥ –¥–ª—è –±–∏—Ä–∂</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            padding: 0;
            overflow-x: hidden;
        }

        .screen {
            min-height: 100vh;
            padding: 20px 16px 100px 16px;
        }

        .header {
            text-align: center;
            margin-bottom: 28px;
            padding-top: 8px;
        }

        .header-icon {
            font-size: 64px;
            margin-bottom: 12px;
            animation: fadeIn 0.5s ease;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
            animation: fadeIn 0.6s ease;
        }

        .header p {
            color: var(--tg-theme-hint-color, #999);
            font-size: 15px;
            animation: fadeIn 0.7s ease;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            animation: slideUp 0.5s ease;
        }

        .exchange-card {
            background: var(--tg-theme-secondary-bg-color, #f7f7f7);
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1.5px solid transparent;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .exchange-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .exchange-card:active {
            transform: scale(0.97);
        }

        .exchange-card:hover::before {
            opacity: 1;
        }

        .exchange-icon {
            font-size: 48px;
            margin-bottom: 12px;
            display: block;
        }

        .exchange-name {
            font-size: 16px;
            font-weight: 600;
        }

        .back-btn {
            background: var(--tg-theme-secondary-bg-color, #f7f7f7);
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 20px;
            color: var(--tg-theme-link-color, #2481cc);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
        }

        .back-btn:active {
            transform: scale(0.96);
            opacity: 0.7;
        }

        .service-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            animation: slideUp 0.5s ease;
        }

        .service-card {
            background: var(--tg-theme-secondary-bg-color, #f7f7f7);
            border-radius: 16px;
            padding: 18px;
            cursor: pointer;
            border: 1.5px solid transparent;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,123,255,0.1) 0%, rgba(0,123,255,0) 100%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .service-card:active {
            transform: scale(0.98);
        }

        .service-card.selected {
            border-color: var(--tg-theme-button-color, #3390ec);
            background: rgba(var(--tg-theme-button-color, 51, 144, 236), 0.1);
        }

        .service-card.selected::before {
            opacity: 1;
        }

        .service-top {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            margin-bottom: 10px;
        }

        .service-icon {
            font-size: 36px;
            flex-shrink: 0;
        }

        .service-info {
            flex: 1;
        }

        .service-title {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .service-desc {
            font-size: 14px;
            color: var(--tg-theme-hint-color, #999);
            line-height: 1.4;
        }

        .service-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(0,0,0,0.06);
        }

        .service-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--tg-theme-button-color, #3390ec);
        }

        .service-badge {
            background: rgba(var(--tg-theme-button-color, 51, 144, 236), 0.15);
            color: var(--tg-theme-button-color, #3390ec);
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .payment-section {
            margin-top: 24px;
            animation: slideUp 0.5s ease;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 14px;
            padding-left: 4px;
        }

        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .crypto-card {
            background: var(--tg-theme-secondary-bg-color, #f7f7f7);
            border-radius: 14px;
            padding: 16px 12px;
            cursor: pointer;
            border: 1.5px solid transparent;
            text-align: center;
            transition: all 0.2s ease;
        }

        .crypto-card:active {
            transform: scale(0.95);
        }

        .crypto-card.selected {
            border-color: var(--tg-theme-button-color, #3390ec);
            background: linear-gradient(135deg, rgba(51, 144, 236, 0.15) 0%, rgba(51, 144, 236, 0.05) 100%);
        }

        .crypto-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .crypto-name {
            font-size: 13px;
            font-weight: 600;
        }

        .network-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .network-card {
            background: var(--tg-theme-secondary-bg-color, #f7f7f7);
            border-radius: 12px;
            padding: 14px 16px;
            cursor: pointer;
            border: 1.5px solid transparent;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .network-card:active {
            transform: scale(0.98);
        }

        .network-card.selected {
            border-color: var(--tg-theme-button-color, #3390ec);
            background: linear-gradient(135deg, rgba(51, 144, 236, 0.15) 0%, rgba(51, 144, 236, 0.05) 100%);
        }

        .network-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .network-icon {
            font-size: 24px;
        }

        .network-details {
            flex: 1;
        }

        .network-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 3px;
        }

        .network-desc {
            font-size: 13px;
            color: var(--tg-theme-hint-color, #999);
        }

        .network-badge {
            background: rgba(52, 199, 89, 0.15);
            color: #34c759;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
        }

        .summary-box {
            background: linear-gradient(135deg, var(--tg-theme-button-color, #3390ec) 0%, rgba(51, 144, 236, 0.8) 100%);
            color: #ffffff;
            border-radius: 16px;
            padding: 20px;
            margin-top: 24px;
            animation: slideUp 0.5s ease;
        }

        .summary-header {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            opacity: 0.9;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 15px;
        }

        .summary-row:last-child {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.2);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 0;
        }

        .summary-label {
            opacity: 0.9;
        }

        .summary-value {
            font-weight: 600;
        }

        .hidden {
            display: none !important;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 380px) {
            .crypto-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –±–∏—Ä–∂–∏ -->
    <div id="exchangeScreen" class="screen">
        <div class="header">
            <div class="header-icon">üíé</div>
            <h1>–í—ã–±–µ—Ä–∏—Ç–µ –±–∏—Ä–∂—É</h1>
            <p>–£—Å–ª—É–≥–∏ –¥–ª—è –≤–∞—à–µ–π –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–∏</p>
        </div>

        <div class="grid">
            <div class="exchange-card" data-exchange="binance">
                <span class="exchange-icon">üü°</span>
                <div class="exchange-name">Binance</div>
            </div>
            <div class="exchange-card" data-exchange="bybit">
                <span class="exchange-icon">üü†</span>
                <div class="exchange-name">Bybit</div>
            </div>
            <div class="exchange-card" data-exchange="okx">
                <span class="exchange-icon">‚ö´</span>
                <div class="exchange-name">OKX</div>
            </div>
            <div class="exchange-card" data-exchange="kraken">
                <span class="exchange-icon">üü£</span>
                <div class="exchange-name">Kraken</div>
            </div>
            <div class="exchange-card" data-exchange="kucoin">
                <span class="exchange-icon">üü¢</span>
                <div class="exchange-name">KuCoin</div>
            </div>
            <div class="exchange-card" data-exchange="huobi">
                <span class="exchange-icon">üîµ</span>
                <div class="exchange-name">Huobi</div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏ -->
    <div id="serviceScreen" class="screen hidden">
        <button class="back-btn" onclick="goToExchanges()">‚Üê –ù–∞–∑–∞–¥</button>
        
        <div class="header">
            <div class="header-icon" id="serviceExchangeIcon">üü°</div>
            <h1 id="serviceExchangeName">Binance</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</p>
        </div>

        <div class="service-list">
            <div class="service-card" data-service="verification" data-price="50">
                <div class="service-top">
                    <span class="service-icon">‚úÖ</span>
                    <div class="service-info">
                        <div class="service-title">–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞</div>
                        <div class="service-desc">–ü–æ–ª–Ω–æ–µ KYC –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –ª–∏—á–Ω–æ—Å—Ç–∏</div>
                    </div>
                </div>
                <div class="service-bottom">
                    <div class="service-price">$50</div>
                    <div class="service-badge">–ü–æ–ø—É–ª—è—Ä–Ω–æ</div>
                </div>
            </div>

            <div class="service-card" data-service="api" data-price="35">
                <div class="service-top">
                    <span class="service-icon">üîë</span>
                    <div class="service-info">
                        <div class="service-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API</div>
                        <div class="service-desc">–°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API –∫–ª—é—á–µ–π</div>
                    </div>
                </div>
                <div class="service-bottom">
                    <div class="service-price">$35</div>
                    <div class="service-badge">–ë—ã—Å—Ç—Ä–æ</div>
                </div>
            </div>

            <div class="service-card" data-service="account" data-price="120">
                <div class="service-top">
                    <span class="service-icon">üë§</span>
                    <div class="service-info">
                        <div class="service-title">–ì–æ—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç</div>
                        <div class="service-desc">–ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π</div>
                    </div>
                </div>
                <div class="service-bottom">
                    <div class="service-price">$120</div>
                    <div class="service-badge">Premium</div>
                </div>
            </div>

            <div class="service-card" data-service="strategy" data-price="200">
                <div class="service-top">
                    <span class="service-icon">üìà</span>
                    <div class="service-info">
                        <div class="service-title">–¢–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</div>
                        <div class="service-desc">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å –æ–±—É—á–µ–Ω–∏–µ–º</div>
                    </div>
                </div>
                <div class="service-bottom">
                    <div class="service-price">$200</div>
                    <div class="service-badge">VIP</div>
                </div>
            </div>

            <div class="service-card" data-service="bot" data-price="180">
                <div class="service-top">
                    <span class="service-icon">ü§ñ</span>
                    <div class="service-info">
                        <div class="service-title">–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç</div>
                        <div class="service-desc">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è 24/7 —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π</div>
                    </div>
                </div>
                <div class="service-bottom">
                    <div class="service-price">$180</div>
                    <div class="service-badge">–¢–æ–ø</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–ø–ª–∞—Ç—ã -->
    <div id="paymentScreen" class="screen hidden">
        <button class="back-btn" onclick="goToServices()">‚Üê –ù–∞–∑–∞–¥</button>
        
        <div class="header">
            <div class="header-icon">üí≥</div>
            <h1>–û–ø–ª–∞—Ç–∞</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</p>
        </div>

        <div class="payment-section">
            <div class="section-title">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</div>
            <div class="crypto-grid">
                <div class="crypto-card" data-crypto="usdt">
                    <div class="crypto-icon">üíµ</div>
                    <div class="crypto-name">USDT</div>
                </div>
                <div class="crypto-card" data-crypto="btc">
                    <div class="crypto-icon">‚Çø</div>
                    <div class="crypto-name">Bitcoin</div>
                </div>
                <div class="crypto-card" data-crypto="eth">
                    <div class="crypto-icon">Œû</div>
                    <div class="crypto-name">Ethereum</div>
                </div>
                <div class="crypto-card" data-crypto="usdc">
                    <div class="crypto-icon">üîµ</div>
                    <div class="crypto-name">USDC</div>
                </div>
                <div class="crypto-card" data-crypto="ton">
                    <div class="crypto-icon">üíé</div>
                    <div class="crypto-name">TON</div>
                </div>
                <div class="crypto-card" data-crypto="trx">
                    <div class="crypto-icon">üî∫</div>
                    <div class="crypto-name">TRON</div>
                </div>
            </div>
        </div>

        <div class="payment-section" id="networkSection" style="display: none;">
            <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å</div>
            <div class="network-list" id="networkList">
                <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
            </div>
        </div>

        <div class="summary-box" id="finalSummary" style="display: none;">
            <div class="summary-header">üìã –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</div>
            <div class="summary-row">
                <span class="summary-label">–ë–∏—Ä–∂–∞:</span>
                <span class="summary-value" id="finalExchange"></span>
            </div>
            <div class="summary-row">
                <span class="summary-label">–£—Å–ª—É–≥–∞:</span>
                <span class="summary-value" id="finalService"></span>
            </div>
            <div class="summary-row">
                <span class="summary-label">–û–ø–ª–∞—Ç–∞:</span>
                <span class="summary-value" id="finalCrypto"></span>
            </div>
            <div class="summary-row">
                <span class="summary-label">–°–µ—Ç—å:</span>
                <span class="summary-value" id="finalNetwork"></span>
            </div>
            <div class="summary-row">
                <span class="summary-label">–ò—Ç–æ–≥–æ:</span>
                <span class="summary-value" id="finalPrice"></span>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.MainButton.hide();

        let selectedData = {
            exchange: null,
            exchangeName: null,
            exchangeIcon: null,
            service: null,
            serviceName: null,
            price: null,
            crypto: null,
            cryptoName: null,
            network: null,
            networkName: null
        };

        const exchangeData = {
            'binance': { name: 'Binance', icon: 'üü°' },
            'bybit': { name: 'Bybit', icon: 'üü†' },
            'okx': { name: 'OKX', icon: '‚ö´' },
            'kraken': { name: 'Kraken', icon: 'üü£' },
            'kucoin': { name: 'KuCoin', icon: 'üü¢' },
            'huobi': { name: 'Huobi', icon: 'üîµ' }
        };

        const serviceData = {
            'verification': '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞',
            'api': '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API',
            'account': '–ì–æ—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç',
            'strategy': '–¢–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è',
            'bot': '–¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç'
        };

        const cryptoData = {
            'usdt': 'USDT',
            'btc': 'Bitcoin',
            'eth': 'Ethereum',
            'usdc': 'USDC',
            'ton': 'TON',
            'trx': 'TRON'
        };

        const networks = {
            'usdt': [
                { id: 'trc20', name: 'TRC20', desc: 'TRON Network', fee: '–ù–∏–∑–∫–∞—è' },
                { id: 'erc20', name: 'ERC20', desc: 'Ethereum', fee: '–í—ã—Å–æ–∫–∞—è' },
                { id: 'bep20', name: 'BEP20', desc: 'BSC', fee: '–ù–∏–∑–∫–∞—è' }
            ],
            'btc': [
                { id: 'bitcoin', name: 'Bitcoin', desc: 'Main Network', fee: '–°—Ä–µ–¥–Ω—è—è' },
                { id: 'lightning', name: 'Lightning', desc: 'Fast & Cheap', fee: '–ù–∏–∑–∫–∞—è' }
            ],
            'eth': [
                { id: 'ethereum', name: 'Ethereum', desc: 'Main Network', fee: '–í—ã—Å–æ–∫–∞—è' },
                { id: 'arbitrum', name: 'Arbitrum', desc: 'Layer 2', fee: '–ù–∏–∑–∫–∞—è' }
            ],
            'usdc': [
                { id: 'erc20', name: 'ERC20', desc: 'Ethereum', fee: '–í—ã—Å–æ–∫–∞—è' },
                { id: 'polygon', name: 'Polygon', desc: 'MATIC Network', fee: '–ù–∏–∑–∫–∞—è' }
            ],
            'ton': [
                { id: 'ton', name: 'TON', desc: 'The Open Network', fee: '–ù–∏–∑–∫–∞—è' }
            ],
            'trx': [
                { id: 'tron', name: 'TRON', desc: 'Main Network', fee: '–ù–∏–∑–∫–∞—è' }
            ]
        };

        // –í—ã–±–æ—Ä –±–∏—Ä–∂–∏
        document.querySelectorAll('.exchange-card').forEach(card => {
            card.addEventListener('click', function() {
                const exchangeId = this.getAttribute('data-exchange');
                selectedData.exchange = exchangeId;
                selectedData.exchangeName = exchangeData[exchangeId].name;
                selectedData.exchangeIcon = exchangeData[exchangeId].icon;
                
                showScreen('serviceScreen');
                document.getElementById('serviceExchangeIcon').textContent = selectedData.exchangeIcon;
                document.getElementById('serviceExchangeName').textContent = selectedData.exchangeName;
            });
        });

        // –í—ã–±–æ—Ä —É—Å–ª—É–≥–∏
        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.service-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                
                const serviceId = this.getAttribute('data-service');
                selectedData.service = serviceId;
                selectedData.serviceName = serviceData[serviceId];
                selectedData.price = this.getAttribute('data-price');
                
                setTimeout(() => {
                    showScreen('paymentScreen');
                }, 300);
            });
        });

        // –í—ã–±–æ—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
        document.querySelectorAll('.crypto-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.crypto-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                
                const cryptoId = this.getAttribute('data-crypto');
                selectedData.crypto = cryptoId;
                selectedData.cryptoName = cryptoData[cryptoId];
                
                showNetworks(cryptoId);
            });
        });

        function showNetworks(cryptoId) {
            const networkSection = document.getElementById('networkSection');
            const networkList = document.getElementById('networkList');
            
            networkList.innerHTML = '';
            networks[cryptoId].forEach(network => {
                const networkCard = document.createElement('div');
                networkCard.className = 'network-card';
                networkCard.setAttribute('data-network', network.id);
                networkCard.innerHTML = `
                    <div class="network-info">
                        <div class="network-icon">‚ö°</div>
                        <div class="network-details">
                            <div class="network-name">${network.name}</div>
                            <div class="network-desc">${network.desc}</div>
                        </div>
                    </div>
                    <div class="network-badge">${network.fee}</div>
                `;
                
                networkCard.addEventListener('click', function() {
                    document.querySelectorAll('.network-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    selectedData.network = network.id;
                    selectedData.networkName = network.name;
                    
                    showFinalSummary();
                });
                
                networkList.appendChild(networkCard);
            });
            
            networkSection.style.display = 'block';
            networkSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function showFinalSummary() {
            document.getElementById('finalExchange').textContent = selectedData.exchangeName;
            document.getElementById('finalService').textContent = selectedData.serviceName;
            document.getElementById('finalCrypto').textContent = selectedData.cryptoName;
            document.getElementById('finalNetwork').textContent = selectedData.networkName;
            document.getElementById('finalPrice').textContent = `$${selectedData.price}`;
            
            const summaryBox = document.getElementById('finalSummary');
            summaryBox.style.display = 'block';
            summaryBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            tg.MainButton.setText(`–û–ø–ª–∞—Ç–∏—Ç—å $${selectedData.price}`);
            tg.MainButton.show();
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goToExchanges() {
            showScreen('exchangeScreen');
            tg.MainButton.hide();
        }

        function goToServices() {
            showScreen('serviceScreen');
            document.getElementById('networkSection').style.display = 'none';
            document.getElementById('finalSummary').style.display = 'none';
            tg.MainButton.hide();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        tg.MainButton.onClick(function() {
            const orderData = {
                exchange: selectedData.exchangeName,
                service: selectedData.serviceName,
                price: `$${selectedData.price}`,
                crypto: selectedData.cryptoName,
                network: selectedData.networkName,
                timestamp: new Date().toISOString()
            };
            
            tg.sendData(JSON.stringify(orderData));
            tg.close();
        });

        // –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
        tg.BackButton.onClick(function() {
            const currentScreen = document.querySelector('.screen:not(.hidden)').id;
            
            if (currentScreen === 'exchangeScreen') {
                tg.close();
            } else if (currentScreen === 'serviceScreen') {
                goToExchanges();
            } else if (currentScreen === 'paymentScreen') {
                goToServices();
            }
        });

        tg.BackButton.show();
    </script>
</body>
</html>
